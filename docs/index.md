---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dnsmasq Provider"
description: |-
  Terraform provider for managing dnsmasq configuration files across multiple platforms and deployment scenarios.
---

# dnsmasq Provider

Terraform provider for managing dnsmasq configuration files across multiple platforms and deployment scenarios.

## Example Usage

```terraform
# Configure the dnsmasq provider
provider "dnsmasq" {
  # Deployment mode: 'local', 'ssh', or 'content_only'
  mode = "local"

  # Platform auto-detection (linux, macos, windows)
  platform = "auto"

  # Optional: service management
  service_management {
    enabled               = true
    validate_before_reload = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `config_dir` (String) Path to dnsmasq.d directory for additional config files. Auto-detected based on platform if not specified.
- `config_path` (String) Path to the main dnsmasq.conf file. Auto-detected based on platform if not specified.
- `mode` (String) Deployment mode: 'local' (default), 'ssh', or 'content_only'. Local mode writes to the local filesystem, SSH mode connects to remote servers, and content_only mode only generates configuration content without writing files.
- `platform` (String) Target platform: 'auto' (default), 'linux', 'macos', or 'windows'. When set to 'auto', the platform is detected automatically.
- `service_management` (Block, Optional) Service management configuration for automatic reload/restart after configuration changes. (see [below for nested schema](#nestedblock--service_management))
- `ssh` (Block, Optional) SSH connection configuration for remote deployment. Only used when mode is 'ssh'. (see [below for nested schema](#nestedblock--ssh))

<a id="nestedblock--service_management"></a>
### Nested Schema for `service_management`

Optional:

- `enabled` (Boolean) Enable automatic service management (default: false).
- `reload_command` (String) Custom reload command. Overrides the default service manager reload.
- `restart_on_fail` (Boolean) Restart service if reload fails (default: false).
- `service_name` (String) Service name (default: dnsmasq).
- `type` (String) Service manager type: 'systemd', 'launchd', 'init', 'brew_services', or 'none'. Auto-detected if not specified.
- `validate_before_reload` (Boolean) Run 'dnsmasq --test' to validate configuration before reload (default: true).


<a id="nestedblock--ssh"></a>
### Nested Schema for `ssh`

Optional:

- `host` (String) SSH host to connect to.
- `known_hosts_file` (String) Path to known_hosts file for host key verification.
- `passphrase` (String, Sensitive) Passphrase for encrypted private key.
- `password` (String, Sensitive) SSH password. Prefer using private_key for authentication.
- `port` (Number) SSH port (default: 22).
- `private_key` (String, Sensitive) PEM-encoded private key content.
- `private_key_path` (String) Path to private key file.
- `strict_host_key_checking` (Boolean) Enable strict host key checking (default: true).
- `timeout` (Number) Connection timeout in seconds (default: 30).
- `user` (String) SSH username.
